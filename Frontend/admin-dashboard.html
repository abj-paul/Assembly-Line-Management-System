<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <title>Admin Dashboard</title>
    <script src="admin-dashboard.js"> </script>


    <style>
      #userRegister, #downloadData, #editInfo, #userList, #profile, #viewerInfo{
        margin-top: 100px;
      }

      #btndownloadAllData{
        width: 90%;
        margin-left:5%;
      }

      h4{
        background-color: beige;
        padding: 10px;
      }
      .myRow {
      padding: 10px;
      background-color: yellow; 
      border-bottom: 2px solid black;
    }
    img{height: 300px;}

    #profile div div h1 {
      padding: 2px;
    }
      

    </style>

    </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#"> Admin Dashboard</a>
          </div>
          <ul class="nav navbar-nav">
            <li class="active"><a href="#userList">Users</a></li>
            <li><a href="#userRegister">Register User</a></li>
            <li><a href="#downloadData">Download Data</a></li>
            <li><a href="#editInfo">Edit User Information</a></li>
            <li><a href="#profile">Profile</a></li>
            <li><a href="#viewerInfo">Viewer Info</a></li>
          </ul>
        </div>
      </nav>

      <div class="row" id="userList">
        <div class="p-5 text-center bg-light">
          <h4 class="mb-3">Existing Users</h4>
        </div>
        <table class="table table-striped">
          <tr>
            <th> User Id </th>
            <th> User Name </th>
            <th> Position </th>
            <th> General Info </th>
          </tr>
          <script> getUserList(); </script>
        </table>
      </div>

      <div class="row" id="userRegister">
        <div class="p-5 text-center bg-light">
          <h4 class="mb-3">Register New User</h4>
        </div>

          <div class="form-group">
            <label for="userNameId">User Name:</label>
            <input type="text" class="form-control" id="userNameId" name="username">
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" class="form-control" id="password" name="password">
          </div>
          <div class="form-group">
            <label for="sel1">Select Role:</label>
            <select class="form-control" id="role">
              <option value="admin">Admin</option>
              <option value="productionManager">Production Manager</option>
              <option value="lineChief">Line Chief</option>
              <option value="supervisor">Supervisor</option>
              <option value="qualityChecker">Quality Checker</option>
              <option value="mechanic">Mechanic</option>
              <option value="viewer">Viewer</option>
            </select>
          </div> 
          <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" class="form-control" id="age" name="age">
          </div>
          <div class="form-group">
            <label for="generalInfoId">General Info:</label>
            <input type="text" class="form-control" id="generalInfoId" name="generalInfo">
          </div>
          <button type="submit" class="btn btn-default" onclick="registerUser()">Submit</button>
          <span id="status">Status:</span>
      </div>


      <div class="row" id="downloadData">
        <div class="p-5 text-center bg-light">
              <h4 class="mb-3">Admin Access</h4>
            </div>
            <a id='downloadDataLink' download='Download.txt' type='text'>
            <button type="submit" class="btn btn-default" onclick="downloadDatabase()" id="btndownloadAllData">Download All Data</button>
            </a>
      </div>


      <div class="row" id="editInfo">
        <div class="p-5 text-center bg-light">
          <h4 class="mb-3">Edit User Info</h4>
        </div>
        <div class="form-group">
          <label for="euserId">User Id:</label>
          <input type="text" class="form-control" id="euserId" name="userid">
        </div>
        <div class="form-group">
          <label for="euserNameId">User Name:</label>
          <input type="text" class="form-control" id="euserNameId" name="username">
        </div>
        <div class="form-group">
          <label for="epassword">Password:</label>
          <input type="password" class="form-control" id="epassword" name="password">
        </div>
        <div class="form-group">
          <label for="eroleId">Select Role:</label>
          <select class="form-control" id="erole">
            <option value="admin">Admin</option>
            <option value="productionManager">Production Manager</option>
            <option value="lineChief">Line Chief</option>
            <option value="supervisor">Supervisor</option>
            <option value="qualityChecker">Quality Checker</option>
            <option value="mechanic">Mechanic</option>
            <option value="viewer">Viewer</option>
          </select>
        </div> 
        <div class="form-group">
          <label for="eage">Age:</label>
          <input type="number" class="form-control" id="eage" name="age">
        </div>
        <div class="form-group">
          <label for="egeneralInfoId">General Info:</label>
          <input type="text" class="form-control" id="egeneralInfoId" name="generalInfo">
        </div>
        <button type="submit" class="btn btn-default" onclick="editUserInfo()">Submit</button>
        <span id="editInfoStatus">Status:</span>
      </div>

      <div class="row" id="profile">
        <div class="p-5 text-center bg-light">
          <h4 class="mb-3">Profile</h4>
        </div>

        <div class="row">
          <div class="col-sm-7">     
              <h3>Role: </h3>             
              <div class='myRow'>Name: </div>
              <div class='myRow'>Age: </div>
              <div class='myRow'>General Info: </div>
              <div class='myRow'>Employee Id: </div>
              </div>
          <div class="col-sm-5">
            <img src="resource/default_pfp.png">
          </div>
        </div>

        <div class="p-5 bg-light">
          <h4 class="mb-3">Notifications</h4>
        </div>
        <table class="table table-striped">
          <tr>
            <th> Timestamp </th>
            <th> Message </th>
            <th> Sender </th>
            <th> Action </th> <!--<button>Click</button>-->
          </tr>
          <script> getNotifications() </script>
        </table>
        <a href="login.html"><button type="submit" class="btn btn-default">Logout</button></a>


      </div>
      <script>getProfileInfo()</script>

      <div class="row" id="viewerInfo">
        <div class="p-5 text-center bg-light">
          <h4 class="mb-3">Set Viewer Info</h4>
        </div>

        <div class="form-group">
          <label>Company Name: </label>
          <input type="text" class="form-control" name="companyName">
        </div>

        <div class="form-group">
          <label> Location: </label>
          <input type="text" class="form-control" name="location">
        </div>

        <div class="form-group">
          <label> Other Info: </label>
          <input type="text" class="form-control" name="location">
        </div>

        <button type="submit" class="btn btn-default" onclick="setViewerInfo()">Submit</button>
      </div>

    </div>


  </body>
</html>
