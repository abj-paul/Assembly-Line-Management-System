{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/constants\";\nimport * as i2 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(constants) {\n    this.constants = constants;\n    this.username = \"\";\n    this.password = \"\";\n    this.loginStatus = \"\";\n    this.role = \"\";\n  }\n  authenticate() {\n    let url = \"\";\n    if (this.role == \"admin\") url = this.constants.SERVER_IP_ADDRESS + \"admin\";else if (this.role == \"productionManager\") url = this.constants.SERVER_IP_ADDRESS + \"productionManager\";else if (this.role == \"lineChief\") url = this.constants.SERVER_IP_ADDRESS + \"lineChief\";else if (this.role == \"supervisor\") url = this.constants.SERVER_IP_ADDRESS + \"supervisor\";\n    const data = {\n      \"operation\": \"login\",\n      \"username\": this.username,\n      \"password\": this.password\n    };\n    fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify(data)\n    }).then(resolve => {\n      console.log(\"Authentication has been done!\");\n      return resolve.json();\n    }).then(data => {\n      console.log(data.authentication);\n      sessionStorage.setItem(\"userid\", data.userInfo.userid);\n      sessionStorage.setItem(\"username\", data.userInfo.username);\n      sessionStorage.setItem(\"password\", data.userInfo.password);\n      sessionStorage.setItem(\"age\", data.userInfo.age);\n      sessionStorage.setItem(\"role\", data.userInfo.role);\n      sessionStorage.setItem(\"general_info\", data.userInfo.general_info);\n      sessionStorage.setItem(\"userHash\", data.userHash);\n      if (data.nextPage != \"none\") window.location.href = data.nextPage;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Constants));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 23,\n  vars: 3,\n  consts: [[1, \"container\", \"loginBody\"], [\"src\", \"../../assets/alms-profile.png\", 1, \"img\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Enter Username\", \"name\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Enter Password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"dropDown\"], [\"id\", \"role\", 1, \"form-control\"], [\"value\", \"admin\"], [\"value\", \"productionManager\"], [\"value\", \"lineChief\"], [\"value\", \"supervisor\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"form\")(3, \"div\", 2)(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"select\", 6)(9, \"option\", 7);\n      i0.ɵɵtext(10, \"Select Role--\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"option\", 7);\n      i0.ɵɵtext(12, \"Admin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"option\", 8);\n      i0.ɵɵtext(14, \"Production Manager\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\", 9);\n      i0.ɵɵtext(16, \"Line Chief\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 10);\n      i0.ɵɵtext(18, \"Supervisor\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_19_listener() {\n        return ctx.authenticate();\n      });\n      i0.ɵɵtext(20, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"span\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(16);\n      i0.ɵɵtextInterpolate(ctx.loginStatus);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n  styles: [\".loginBody[_ngcontent-%COMP%]{\\n    padding: 50px;\\n    margin: auto;\\n    width: 30%;\\n    text-align: center;\\n    margin-top: 50px;\\n\\n    background-image: url('login-bg.jpg');\\n    height: 50%;\\n}\\n\\n.img[_ngcontent-%COMP%]{\\n    width: 300px;\\n    margin: auto;\\n    margin-bottom: 20px;\\n}\\n\\ninput[_ngcontent-%COMP%]{\\n    padding: 10px;\\n    margin-bottom: 20px;\\n}\\nbutton[_ngcontent-%COMP%]{\\n    margin: auto;\\n}\\n\\n.dropDown[_ngcontent-%COMP%]{\\n    margin-bottom: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsWUFBWTtJQUNaLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIsZ0JBQWdCOztJQUVoQixxQ0FBa0Q7SUFDbEQsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCIiwic291cmNlc0NvbnRlbnQiOlsiXG4ubG9naW5Cb2R5e1xuICAgIHBhZGRpbmc6IDUwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHdpZHRoOiAzMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDUwcHg7XG5cbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvbG9naW4tYmcuanBnXCIpO1xuICAgIGhlaWdodDogNTAlO1xufVxuXG4uaW1ne1xuICAgIHdpZHRoOiAzMDBweDtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuaW5wdXR7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuYnV0dG9ue1xuICAgIG1hcmdpbjogYXV0bztcbn1cblxuLmRyb3BEb3due1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["LoginComponent","constructor","constants","authenticate","url","role","SERVER_IP_ADDRESS","data","username","password","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","resolve","console","log","json","authentication","sessionStorage","setItem","userInfo","userid","age","general_info","userHash","nextPage","window","location","href","catch","err","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/abhijit/Assembly-Line-Management-System/frontend/src/app/login/login.component.ts","/home/abhijit/Assembly-Line-Management-System/frontend/src/app/login/login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Constants } from '../services/constants';\n\nimport { UserService } from '../services/user.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  username: string = \"\";\n  password: string = \"\";\n  loginStatus: string = \"\"\n  role: string = \"\";\n\n  \n  constructor(private constants: Constants) { }\n\n  authenticate(){\n    let url = \"\";\n    if(this.role==\"admin\") url = this.constants.SERVER_IP_ADDRESS + \"admin\";\n    else if(this.role==\"productionManager\") url = this.constants.SERVER_IP_ADDRESS + \"productionManager\";\n    else if(this.role==\"lineChief\") url = this.constants.SERVER_IP_ADDRESS + \"lineChief\";\n    else if(this.role==\"supervisor\") url = this.constants.SERVER_IP_ADDRESS + \"supervisor\";\n\n    const data = {\n      \"operation\":\"login\",\n      \"username\": this.username,\n      \"password\": this.password\n    };\n\n    fetch(url, {\n      method: \"POST\",\n      mode: \"cors\", \n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\"Content-Type\": \"application/json\",},\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify(data),\n  })\n      .then((resolve)=>{\n          console.log(\"Authentication has been done!\");\n          return resolve.json()\n      })\n      .then((data)=>{\n          console.log(data.authentication);\n          sessionStorage.setItem(\"userid\", data.userInfo.userid);\n          sessionStorage.setItem(\"username\", data.userInfo.username);\n          sessionStorage.setItem(\"password\", data.userInfo.password);\n          sessionStorage.setItem(\"age\", data.userInfo.age);\n          sessionStorage.setItem(\"role\", data.userInfo.role);\n          sessionStorage.setItem(\"general_info\", data.userInfo.general_info);\n          sessionStorage.setItem(\"userHash\", data.userHash);\n\n        if(data.nextPage!=\"none\") window.location.href = data.nextPage;\n      })\n      .catch((err)=>{\n          console.log(err);\n      });\n  }\n\n}\n\n","  <div class=\"container loginBody\">\n    <img src=\"../../assets/alms-profile.png\" class=\"img\">\n    <form>\n      <div class=\"form-group\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Enter Username\" name=\"username\" [(ngModel)]=\"username\">\n      </div>\n      <div class=\"form-group\">\n          <input type=\"password\" class=\"form-control\" placeholder=\"Enter Password\" name=\"password\" [(ngModel)]=\"password\">\n      </div>\n\n      <div class=\"form-group dropDown\">\n        <select class=\"form-control\" id=\"role\">\n          <option value=\"admin\">Select Role--</option>\n          <option value=\"admin\">Admin</option>\n          <option value=\"productionManager\">Production Manager</option>\n          <option value=\"lineChief\">Line Chief</option>\n          <option value=\"supervisor\">Supervisor</option>\n        </select>\n      </div>     \n\n      <button type=\"submit\" class=\"btn btn-primary\" (click)=\"authenticate()\">Login</button>\n\n      <span>{{loginStatus}}</span>\n    </form>  \n  </div>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}